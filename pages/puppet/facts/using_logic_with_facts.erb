<script>
function test() {
  data = '{ \
    "code": "class magic_module { ' + escape($('#magic-box').val()) + ' }", \
    "spec": "logic", \
    "facts_hash": { \
      "kernel": { \
        "linux": { \
          "type": "file", \
          "title": "/etc/motd" \
        }, \
        "windows": { \
          "type": "file", \
          "title": "C:/Users/Administrator/Desktop/README.txt" \
        } \
      } \
    } \
  }';
  submitcode('factlogic', data)
}
</script>

<form id='magic' action='#'>
  <div class='form-group'>
    <label for='magic-box'>Enter puppet code:</label>
    <quote>Set the <code>$hello_file</code> to <code>C:/Users/Administrator/Desktop/README.txt</code> when the <code>$kernel</code> fact is <code>windows</code> or else set the <code>$hello_file</code> to <code>/etc/motd</code></quote>
    <textarea class='form-control' id='magic-box' rows='12'>
if $kernel == 'windows' {
    $hello_file = <PUT VALUE HERE>
}
else {
    $hello_file = <PUT VALUE HERE>
}

file { $hello_file:
  content => 'Hello world',
}
    </textarea>
  </div>
</form>

<script>
  formFooter();
</script>
